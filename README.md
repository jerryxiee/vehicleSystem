### 项目3：基于嵌入式QT的车载影音系统(附加天气和简易定位功能)

#### 项目描述

本次项目是基于Qt环境进行开发设计一个基于嵌入式QT的车载影音系统应用，通过交叉编译Qt程序，并在GEC6818开发板上运行，主要通过Qt基础控件、多窗体、样式表、Qt多进程、Http请求、API接口调用、JSON数据解析、Mplayer以及对QStringList的使用，编程实现设计了嵌入式GUI界面，同时实现天气预报、音视频播放以及简易定位的地图功能。

#### 项目需求

1.天气界面：通过HTTP 请求 并解析JSON 数据，获取未来5天的天气情况并显示到界面中；

2.视频播放界面：利用 QT 中的进程调用 mplayer 播放器 ，播放视频，实现视频基本操作；

3.音乐界面：利用 QT 中的进程调用 mplayer 播放器 ，播放音乐，实现音乐基本操作，同时匹配歌词文件，实现歌词同步滚动；

4.地图显示 ：通过百度地图API接口，显示当前地区的静态图，全景图，路况。

#### 环境搭建

##### 开发平台

Window、Linux

##### 运行平台

ARM

##### 开发工具

交叉编译链、QCreater

##### 编程实现

使用QCreater进行ui设计、编写代码，利用 Qt／Embedded 中的qmake生成Makefile管理工程目录，利用arm-linux-gcc交叉编译，再通过Linux平台的SSH服务将编译生成的程序文件传输到开发板中，最后执行。 

#### 涉及知识

C\C++、Qt、多进程、HTTP 请求、JSON 数据解析

#### 具体描述

主窗体设置背景图，同时布局四个按钮控件，分别导向四个基本功能窗体；天气窗体中，通过调用天气API接口，对返回的数据进行JSON解析，显示在对应布局的控件中；视频窗体中，添加视频文件到列表中并双击播放，可实现播放、暂停、上一个、下一个、音量调节、播放进度调节、删除列表项等操作，使用Qlistwidget保存视频名列表；音乐窗体中，添加视频文件到列表中并双击播放，可实现播放、暂停、上一首、下一首、音量调节、播放进度调节、删除列表项等基本操作，同时实现歌曲播放和歌词滚动同步，使用Qlistwidget保存音乐列表和歌词滚动；地图ip窗体，通过调用API接口，返回当前区域的全景图、静态图和路况，显示在对应的布局控件中。

#### 项目总结

在qt环境进行开发是比较不熟的，有时粗心在编写代码时对应ui布局控件出错，造成错误。本次项目主要使用C++进行开发，主要运用了API调用、HTTP请求、JSON数据处理、QT多进程、QFile等知识点，对百度地图的API服务有了了解和熟悉，学习了在ui设计时添加样式表使界面更加美观和多样化。









